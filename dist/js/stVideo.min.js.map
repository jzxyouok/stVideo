{"version":3,"sources":["stVideo.js"],"names":["root","factory","define","amd","exports","module","stVideo","global","this","window","lastTime","vendors","x","length","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","el","settings","useCanvas","test","navigator","userAgent","document","querySelector","getSettings","mp4","webm","ogg","width","height","classNames","init","error","isPlaying","isPaused","isEnded","player","poster","play","playPause","controls","timeline","progress","duration","initPlayer","isError","checkSettings","prototype","attr","getAttribute","replace","JSON","parse","ext","wrapper","video","source","type","canvas","context","classList","add","createElement","setAttribute","supportedVideoFormat","badVideoFormat","call","appendChild","getContext","fillStyle","fillRect","drawImage","canvasContext","load","playerControls","addEventListeners","extension","canPlayType","style","backgroundImage","elPlay","elPlayPause","elProgress","elDuration","tempEvent","self","allowedEvents","eventsUserCollection","eventsVideoCollection","eventsControlsCollection","addEventListener","canvasDrawFrame","progressUpdate","push","changeState","ev","custom","pause","canvasControl","action","currentTime","now","animationFrame","canvasFrameUpdate","bind","time","elapsed","current","toFixed","innerText","formatTime","seconds","min","sec","floor","console","msg","on","name","indexOf","value","ec","remove","destroy"],"mappings":"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","file":"stVideo.min.js"}